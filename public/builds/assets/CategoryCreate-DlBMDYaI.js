import{v as j,r as g,j as e,m as o}from"./app-CjaGCVDx.js";import{A as v}from"./AdminLayout-kcORIhX7.js";import{I as i}from"./InputLabel-Wztm-gaQ.js";import{T as n}from"./TextInput-CqyZKQoH.js";import{S as c}from"./SelectInput-C4b-vKpA.js";import{V as d}from"./index-ImKEloHt.js";import"./ApplicationLogo-DOnqxg94.js";function I({category:s}){const{data:a,setData:t,processing:x,errors:r,reset:f,setError:u,clearErrors:h}=j({name:(s==null?void 0:s.name)||"",slug:(s==null?void 0:s.slug)||"",image:(s==null?void 0:s.image)||"",is_featured:(s==null?void 0:s.is_featured)??0,status:(s==null?void 0:s.status)??1});g.useEffect(()=>{const l=a.name.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"");t("slug",l)},[a.name]);const p=l=>{l.preventDefault(),h(),s?o.post(route("admin.categories.update",s.slug),{...a,_method:"PUT"},{onSuccess:()=>d.success("Categoría actualizada correctamente"),onError:m=>{d.error("Error al actualizar la categoría"),u(m)}}):o.post(route("admin.categories.store"),a,{onSuccess:()=>{d.success("Categoría creada correctamente"),f()},onError:m=>{d.error("Error al crear la categoría"),u(m)}})};return e.jsx(v,{header:s?"Editar Categoría":"Crear Categoría",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-xl p-6",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(i,{htmlFor:"name",children:"Nombre"}),e.jsx(n,{id:"name",value:a.name,onChange:l=>t("name",l.target.value),className:"w-full",required:!0}),r.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.name})]}),e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(i,{htmlFor:"slug",children:"Slug"}),e.jsx(n,{id:"slug",value:a.slug,className:"w-full bg-black/5 dark:bg-gray-100/10",disabled:!0}),r.slug&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.slug})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(i,{htmlFor:"image",children:"Imagen (URL)"}),e.jsx(n,{id:"image",value:a.image,onChange:l=>t("image",l.target.value),className:"w-full",placeholder:"https://ejemplo.com/imagen.jpg"}),r.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.image}),a.image&&e.jsx("div",{className:"mt-2 w-full flex justify-center",children:e.jsx("img",{src:a.image,alt:"Vista previa",className:"w-1/3 rounded-md"})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(i,{htmlFor:"is_featured",children:"¿Destacado?"}),e.jsxs(c,{id:"is_featured",value:a.is_featured,onChange:l=>t("is_featured",l.target.value),className:"w-full",children:[e.jsx("option",{value:"1",children:"Sí"}),e.jsx("option",{value:"0",children:"No"})]}),r.is_featured&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.is_featured})]}),e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(i,{htmlFor:"status",children:"Estado"}),e.jsxs(c,{id:"status",value:a.status,onChange:l=>t("status",l.target.value),className:"w-full",children:[e.jsx("option",{value:"1",children:"Activo"}),e.jsx("option",{value:"0",children:"Inactivo"})]}),r.status&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.status})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:x,className:"inline-flex items-center px-4 py-2 bg-rose-600 text-white rounded-md font-semibold text-xs uppercase tracking-widest hover:bg-rose-500 active:bg-rose-700 focus:ring-2 focus:ring-rose-500 disabled:opacity-25 transition",children:s?"Actualizar Categoría":"Crear Categoría"})})]})})})}export{I as default};
